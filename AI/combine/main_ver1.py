import json, os, sys
sys.path.append(os.path.abspath("./AI/combine"))
import modularization_ver1 as mo

model_root_path = 'D:/' #각 자 경로 설정할 것
contract_name = 'example.hwp'

article_ver_sel = model_root_path + "Model/2025_01_10_article_prediction_ver2_3차"
unfair_ver_sel = model_root_path + "Model/2025_01_10_unfair_identification_ver2_3차"
toxic_ver_sel = model_root_path + "Model/2025_01_10_toxic_ver2_1차"

mo.initialize_models(unfair_ver_sel, article_ver_sel, toxic_ver_sel)

results = mo.pipline(contract_name)


output_file = "./Data_Analysis/Data/result.json"
with open(output_file, "w", encoding="utf-8") as f:
    json.dump(results, f, indent=4, ensure_ascii=False)











# test_sentences = [
#     ('갑은 을과의 분쟁이 발생하더라도 협의회의 조정 절차를 무시할 수 있다.', 1, 0, 26),  # 제26조
#     ('을이 신고를 취하한 경우라도, 공정거래위원회는 신고 사실을 계속 유지해야 한다.', 1, 0, 29),  # 제29조
#     ('공정거래위원회는 서면실태조사 결과를 공표하지 않아도 된다.', 1, 0, 30),  # 제30조
#     ('갑은 공정거래위원회의 조정 절차가 진행 중이더라도 이를 무시하고 독단적으로 결정을 내릴 수 있다.', 1, 0, 26),  # 제26조
#     ('을이 신고를 했더라도, 갑은 공정거래위원회의 조사에 협조하지 않을 권리가 있다.', 1, 0, 29),  # 제29조
#     ('협의회는 조정 신청이 접수되었더라도 분쟁당사자에게 통보하지 않아도 된다.', 1, 0, 25),  # 제25조
#     ('갑은 협의회의 조정 절차를 따르지 않고 자체적으로 해결 방안을 강요할 수 있다.', 1, 0, 28),  # 제28조
#     ('공정거래위원회는 갑이 위반 혐의를 받더라도 직권 조사를 하지 않아도 된다.', 1, 0, 29),  # 제29조
#     ('갑은 을에게 서면실태조사와 관련된 자료 제출을 거부하도록 강요할 수 있다.', 1, 0, 30),  # 제30조
#     ('조정조서는 법적 효력이 없으므로 갑은 이를 따를 필요가 없다.', 1, 0, 27),  # 제27조
#     ('공정거래위원회는 직권으로 대규모유통업자의 위반 행위를 조사할 수 있다.', 0, 0, 0),
#     ('협의회는 조정 신청을 받으면 즉시 조정 절차를 개시해야 한다.', 0, 0, 0),
#     ('갑과 을은 협의회의 조정 절차를 성실히 따라야 한다.', 0, 0, 0),
#     ('누구든지 이 법을 위반하는 사실을 발견하면 공정거래위원회에 신고할 수 있다.', 0, 0, 0),
#     ('협의회는 서면실태조사 결과를 공정하게 공개해야 한다.', 0, 0, 0),
#     ('조정조서는 재판상 화해와 동일한 효력을 가지므로 반드시 이행되어야 한다.', 0, 0, 0),
#     ('서면실태조사는 공정한 거래질서 확립을 위해 반드시 시행되어야 한다.', 0, 0, 0),
#     ('협의회의 운영 절차는 공정성을 보장할 수 있도록 대통령령에 따라야 한다.', 0, 0, 0),
#     ('공정거래위원회는 법에 따라 갑의 위반 혐의를 조사할 수 있다.', 0, 0, 0),
#     ('협의회의 조정 절차가 종료되면 시효는 새롭게 진행된다.', 0, 0, 0),
#     ("을은 갑의 요청이 있을 경우, 정해진 계약 기간과 관계없이 추가적인 납품을 진행해야 한다.", 0, 1, 0),
#     ("갑은 을의 재고 상황과 관계없이 주문량을 자유롭게 조정할 수 있으며, 을은 이에 무조건 응해야 한다.", 0, 1, 0),
#     ("을은 갑의 판매 전략에 따라 원가 이하의 가격으로 납품해야 하며, 이에 대한 손실 보전을 요구할 수 없다.", 0, 1, 0),
#     ("본 계약 체결 이후에도 갑은 을의 유통망을 직접 통제할 수 있으며, 을은 이를 거부할 수 없다.", 0, 1, 0),
#     ("을은 갑의 경영 전략에 따라 가격 및 판매 정책을 조정해야 하며, 이에 대한 협의 권한이 없다.", 0, 1, 0),
#     ("갑은 을의 납품 기한을 사전 협의 없이 조정할 수 있으며, 을은 이에 즉시 응해야 한다.", 0, 1, 0),
#     ("을은 갑의 판매 촉진을 위해 추가적인 제품을 무상으로 제공해야 하며, 이에 대한 대가를 요구할 수 없다.", 0, 1, 0),
#     ("본 계약의 종료 여부는 갑이 단독으로 결정하며, 을은 이에 대해 어떠한 권리도 주장할 수 없다.", 0, 1, 0),
#     ("갑은 을의 생산 과정에 개입할 권리를 가지며, 을은 이에 대해 거부할 수 없다.", 0, 1, 0),
#     ("을은 계약이 종료된 후에도 일정 기간 동안 갑이 요청하는 조건을 유지하여 제품을 공급해야 한다.", 0, 1, 0),
#     ("계약 당사자는 계약의 이행을 위해 상호 협력하며, 문제 발생 시 협의를 통해 해결해야 한다.", 0, 0, 0),
#     ("을은 계약된 일정에 따라 제품을 납품하며, 일정 변경이 필요한 경우 사전에 협의한다.", 0, 0, 0),
#     ("본 계약의 조항은 양측의 동의 없이 일방적으로 변경될 수 없다.", 0, 0, 0),
#     ("계약 해지 시, 당사자는 합의된 절차에 따라 서면으로 통보해야 한다.", 0, 0, 0),
#     ("갑은 을의 정당한 사유 없이 계약 조건을 일방적으로 변경할 수 없다.", 0, 0, 0),
#     ("을은 계약 이행 중 발생하는 문제를 갑에게 즉시 보고하고 협의해야 한다.", 0, 0, 0),
#     ("본 계약은 계약서에 명시된 기한 동안 적용되며, 연장은 양측 협의를 통해 진행된다.", 0, 0, 0),
#     ("계약 당사자는 상호 존중을 바탕으로 계약을 이행하며, 필요 시 협의를 통해 문제를 해결한다.", 0, 0, 0),
#     ("계약 종료 후에도 당사자는 일정 기간 동안 기밀 유지 의무를 준수해야 한다.", 0, 0, 0),
#     ("본 계약에서 명시되지 않은 사항은 관련 법령 및 일반적인 상거래 관행을 따른다.", 0, 0, 0),
# ]